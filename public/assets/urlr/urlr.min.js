const urlr={getParams:function(t){let e=new URLSearchParams(location.search);if(!t)return e;let n=[];for(i of e.entries())n[i[0]]=i[1];return n},getParam:function(t){return this.getParams().get(t)},setParam:function(t,e){let n=this.getParams();return n.set(t,e),this.update(n)},removeParam:function(t){if(!this.getParam(t))return;let e=this.getParams();return e.delete(t),this.update(e)},update:function(t){t=t?t.toString():null,window.history.replaceState({},"",t?`${location.pathname}?${t}`:location.pathname)},_serialize:function(t,e,n){n=n||[];for(const r in e)if(e.hasOwnProperty(r)){if("object"==typeof e[r]){t=this._serialize(t,e[r],n.concat(r));continue}let a=n.concat([r]),i=document.createElement("input");i.type="hidden",i.name=a.map(function(t,e){return 0==e?t:"["+t+"]"}).join(""),i.value=e[r],t.appendChild(i)}return t},form:function(t,e,n,r){let a=document.createElement("form");return a.action=t,a.method=n||"post",a.target=r||"_blank",e&&(a=this._serialize(a,e)),document.body.appendChild(a),a.submit()},post:function(t,e,n){return urlr.form(t,e,"post",n)}};