$.fn.picupload=function(){let a=this;a.init=function(){let i=a.attr("name");a._id=i+"_"+Math.ceil(10*Math.random());let d='<input type="text" style="display:none;" name="'+i+'_changed" value="false" data-picpuload-input="'+a._id+'"><input type="file" style="display:none;" name="'+i+'" data-picpuload-file="'+a._id+'"><div class="picupload"><div class="picupload-bt" title="Enviar imagem" data-picpuload-upload="'+a._id+'"><i class="fas fa-image"></i></div><div class="picupload-bt" title="Retirar imagem" data-picpuload-trash="'+a._id+'"><i class="far fa-trash-alt"></i></div></div>';a.parent().append(d),a.css("position","relative"),a.attr("data-picpuload-pic",a._id),$("[data-picpuload-trash="+a._id+"]").click(a.trash),$("[data-picpuload-upload="+a._id+"]").click(a.upload),$("[data-picpuload-file="+a._id+"]").change(a.changedUpload)},a.trash=function(){$("[data-picpuload-input="+a._id+"]").val("true").trigger("change"),$("[data-picpuload-file="+a._id+"]").val("").trigger("change"),$("[data-picpuload-pic="+a._id+"]").css("background-image","").trigger("change")},a.upload=function(){$("[data-picpuload-file="+a._id+"]").click()},a.changedUpload=function(i){$("[data-picpuload-file="+a._id+"]");0!=this.files.length&&($("[data-picpuload-input="+a._id+"]").val("true").trigger("change"),$("[data-picpuload-pic="+a._id+"]").css("background-image","url("+URL.createObjectURL(this.files[0])+")").trigger("change"))},a.init()};