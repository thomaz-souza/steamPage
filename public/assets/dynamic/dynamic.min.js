!function($){$.fn.dynamic=function(options){let self=this;return self.skload=function(e){let l=self._o.infiniteLoader||!self._p.prp,f=self.pagination(),s=self._p.prp;if(!e)return l&&self.children().slice(-1*(f?f.totalResults():self._p.prp)).remove(),void(self._o.infiniteLoader||self.removeClass("skeleton-load"));if(self._o.infiniteLoader||self.addClass("skeleton-load"),l||self.clear(),f){let e=f.size()-f.currentPage()*f.itemsPerPage();s=e>f.itemsPerPage()?self._p.prp:e}else s=self._p.prp;for(let e=0;e<s;e++)self._template({},!1)},self._dt=function(){let e=Object.assign({},self._f);return self._p&&self._p.pag&&self._p.prp&&(e=Object.assign(e,self._p)),e},self.get=function(){return!0===self._o.skeletonLoad&&self.skload(!0),self._o.onLoading&&self._o.onLoading(!0),self._o.transaction(self._dt(),self.set,self._o.onDownload?self._o.onDownload:null,self._o.onUpload?self._o.onUpload:null,self._o.onLoad?self._o.onLoad:null),self},self._mod={gen:function(e){return"@"+e+"@"},var:function(e){let l,f,s=/\$([0-9a-z_-]+?)(?!\()([^0-9a-z_-])/gi,t=[];for(;l=s.exec(e);)f=this.gen(l.index),e=e.replace(l[0],f+l[2]),t.push({id:f,v:l[1]});return{r:t,h:e}},evl:function(e){let l,f,s=/\$\{([\s\S]+?)\}/gi,t=[];for(;l=s.exec(e);)f=this.gen(l.index),e=e.replace(l[0],f),t.push({id:f,e:l[1]});return{r:t,h:e}},eif_r:function(){return new RegExp(/\$if\(([\s\S]+?)\)\{([\s\S]+?)\}/,"gi")},eif:function(e){let l,f,s=/\$if\(([\s\S]+?)\)\{([\s\S]+?)\}/gi,t=[],n=e;for(;l=s.exec(e);)f=this.gen(l.index),n=n.replace(l[0],f),t.push({id:f,e:l[1],v:l[2]});return{r:t,h:n}},addVar:function(e,l){let f;for(f of self._t.v.c)e=e.replace(f.id,l[f.v]);return e},eval:function(e,i){e=this.addVar(e,i);try{r=eval(e)}catch(e){console.error(e),r=e}return r},addEvl:function(e,l){let f;for(f of self._t.v.e)e=e.replace(f.id,this.eval(f.e,l));return e},addEif:function(e,l){let f;for(f of self._t.v.d)r=this.eval(f.e,l)?this.addVar(f.v,l):"",e=e.replace(f.id,r);return e}},self._parseTemplate=function(){let e=self.html(),l={e:[],c:[],d:[]};var_p=self._mod.var(e),e=var_p.h,l.c=var_p.r,var_p=self._mod.evl(e),e=var_p.h,l.e=var_p.r,var_p=self._mod.eif(e),e=var_p.h,l.d=var_p.r,self._t={h:e,v:l},self.clear()},self._template=function(e,l){if(!self._o.template){let l=self._t.h;return l=self._mod.addVar(l,e),l=self._mod.addEvl(l,e),l=self._mod.addEif(l,e),self.append(l)}if(self._o.template)return self.append(self._o.template(e,l))},self.set=function(e,l){if(self._o.onLoading&&self._o.onLoading(!1),200==e.status||!0===l)return self._o.onData&&(newData=self._o.onData(e.data,self),newData&&(e.data=newData)),self._d=e.data,self._o.paginate&&(self.pagination(new paginate(e.data,self)),e.data.results&&(self._d=e.data.results,delete e.data.results,self._p.tot=e.data),self._o.paginate.onPage&&("function"==typeof self._o.paginate.onPage&&self._o.paginate.onPage(self.pagination(),self),"object"==typeof self._o.paginate.onPage&&self.pagination().paginateOn(self._o.paginate.onPage))),self.plot(),self;self._o.onError?self._o.onError(e):console.error(e)},self.plot=function(){if(self._o.infiniteLoader||self.clear(),!0===self._o.skeletonLoad&&self.skload(!1),0==self._d.length&&self._o.onEmpty){let e="function"==typeof self._o.onEmpty?self._o.onEmpty(self):self._o.onEmpty;return e&&self.html(e),self}for(let e=0;e<self._d.length;e++)self._template(self._d[e],e);return self._o.onPlot&&self._o.onPlot(self),self},self.refresh=function(){return self.clear(),self.plot()},self.reload=function(){return self.clear(),self.get()},self.clear=function(){return self.html(""),self},self.resetPage=function(){return self._p.pag=self._o.paginate?self._o.paginate.currentPage:!!self._p.pag&&self._p.pag,self._p.prp=self._o.paginate?self._o.paginate.perPage:!!self._p.prp&&self._p.prp,self},self._page=function(e){return void 0===e?self._p.pag:(self._p.pag=e,self)},self.page=function(e){let l=self._page(e);return"object"==typeof l?self.get():l},self._nextPage=function(){return!(self._p.pag+1>self._p.tot.totalPages)&&(self._p.pag++,self)},self.nextPage=function(){return self._nextPage()?self.get():self},self._previousPage=function(){return!(self._p.pag-1<1||self._o.infiniteLoader)&&(self._p.pag--,self)},self.previousPage=function(){return self._previousPage()?self.get():self},self._lastPage=function(){return self.page(self._p.tot.totalPages)},self.lastPage=function(){return self._lastPage(),self.get()},self._firstPage=function(){return self.page(1)},self.firstPage=function(){return self._firstPage(),self.get()},self._shiftPage=function(e){return self._p.tot.currentPage+e>self._p.tot.totalPages?self._lastPage():self._p.tot.currentPage+e<1?self._firstPage():self.page(self._p.tot.currentPage+e)},self.pagination=function(e){return e&&(self._pgnt=e),self._pgnt},self.shiftPage=function(e){return self._shiftPage(e),self.get()},self._perPage=function(e){return void 0===e?self._p.prp:(self._p.prp=e,self)},self.perPage=function(e){self.resetPage();let l=self._perPage(e);return"object"==typeof l?self.reload():l},self._setInfiniteLoader=function(e){return self._o.infiniteLoader=e,self},self.setInfiniteLoader=function(e){return self._setInfiniteLoader(e),self.resetPage(),self.reload()},self._filter=function(e,l){return self._f[e]=l,null===l&&delete self._f[e],self},self.filter=function(e,l){return self._filter(e,l),self.resetPage(),self.reload()},self._order=function(e,l){let f=[e,l];return e||(f=null),self._filter("order",f)},self.order=function(e,l){return self._order(e,l),self.resetPage(),self.reload()},self._search=function(e,l){let f=[e,l];return e&&""!==l||(f=null),self._filter("search",f)},self.search=function(e,l){return self._search(e,l),self.resetPage(),self.reload()},self._o=options,self._f=self._o.filters?self._o.filters:{},self._p={pag:!(!self._o.paginate||!self._o.paginate.currentPage)&&self._o.paginate.currentPage,prp:!(!self._o.paginate||!self._o.paginate.perPage)&&self._o.paginate.perPage},self._o.template||self._t||self._parseTemplate(),self._o.data?self.set(self._o,!0):jQuery(document).ready(function(){self.get()}),self}}(jQuery);